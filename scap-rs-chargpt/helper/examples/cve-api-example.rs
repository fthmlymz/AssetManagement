use nvd_api::v2::vulnerabilities::{CveHistoryParameters, CveParameters};
use nvd_api::ApiVersion;
// https://cwe.mitre.org/data/downloads.html
// curl -s -k https://cwe.mitre.org/data/downloads.html |grep  -Eo '(/[^"]*\.xml.zip)'|xargs -I % wget -c https://cwe.mitre.org%
#[tokio::main]
async fn main() {
  let api = nvd_api::NVDApi::new(None, ApiVersion::default()).unwrap();
  let cve = api.cve(CveParameters::default()).await.unwrap();
  println!("{:?}", cve.format);
  let cve_history = api
    .cve_history(CveHistoryParameters {
      cve_id: None,
      change_date: None,
      event_name: None,
      limit_offset: None,
    })
    .await
    .unwrap();
  println!("{:?}", cve_history.format);
}
